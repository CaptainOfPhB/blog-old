<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="CaptainOfPhB"><title>TypeScript 类型体操通关秘籍（二) ♡ 船长の部落格</title><meta name=description content="TypeScript 类型体操通关秘籍（二)"><meta name=keywords content="TypeScript"><link rel="shortcut icon" href=/images/favicon.png><link rel=stylesheet href=/css/base.css><link rel=stylesheet href=/css/light.css><link rel=stylesheet href=/css/dark.css><link rel=stylesheet href=/css/prism-light.css><link rel=stylesheet href=/css/prism-dark.css><link rel=stylesheet href=/css/main.css></head><body><div class=main><div class=site-nav-container><div class=site-nav><a href=/>首页</a>
<a href=/posts/>归档</a>
<a href=/tags/>标签</a>
<a href=/about-me/>关于</a></div></div><div class=content><div class=single><h1 class=title>TypeScript 类型体操通关秘籍（二)</h1><div class=date>Updated&nbsp;on&nbsp;2022.02.18</div><details open class=toc><summary>Table of Contents</summary><nav id=TableOfContents><ul><li><a href=#capitalize>Capitalize</a></li><li><a href=#filterbyvaluetype>FilterByValueType</a></li><li><a href=#isequal>isEqual</a></li><li><a href=#buildarray>BuildArray</a></li></ul></nav></details><div class=markdown><h2 id=capitalize>Capitalize</h2><p>利用 ts 自带的 <code>Uppercase</code> 工具类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Capitalize</span>&lt;<span style=color:#f92672>S</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>string</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>S</span> <span style=color:#66d9ef>extends</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>infer</span> <span style=color:#a6e22e>First</span><span style=color:#e6db74>}${</span><span style=color:#66d9ef>infer</span> <span style=color:#a6e22e>Rest</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>?</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>Uppercase</span>&lt;<span style=color:#f92672>First</span>&gt;<span style=color:#e6db74>}${</span><span style=color:#a6e22e>Rest</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>:</span> <span style=color:#a6e22e>S</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Capitalize</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;captainOfPhB&#39;</span><span style=color:#f92672>&gt;</span>; <span style=color:#75715e>// CaptainOfPhB
</span></span></span></code></pre></div><h2 id=filterbyvaluetype>FilterByValueType</h2><p><code>never</code> 的索引会在生成新的索引类型时被去掉。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>FilterByValueType</span>&lt;<span style=color:#f92672>Obj</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>Record</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>string</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>any</span>&gt;, <span style=color:#a6e22e>ValueType</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  [<span style=color:#a6e22e>Key</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>Obj</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>ValueType</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>Key</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>Key</span> : <span style=color:#66d9ef>never</span>] <span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>Key</span>]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Person</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hobby</span>: <span style=color:#66d9ef>string</span>[];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>FilterByValueType</span>&lt;<span style=color:#f92672>Person</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>string</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#a6e22e>number</span>&gt;; <span style=color:#75715e>// { name: string; age: number }
</span></span></span></code></pre></div><h2 id=isequal>isEqual</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>IsEqual</span>&lt;<span style=color:#f92672>A</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>B</span>&gt; <span style=color:#f92672>=</span> (<span style=color:#a6e22e>A</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>B</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>2</span>) <span style=color:#66d9ef>extends</span> (<span style=color:#a6e22e>B</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>2</span>) <span style=color:#f92672>?</span> <span style=color:#66d9ef>true</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><h2 id=buildarray>BuildArray</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>BuildArray</span>&lt;<span style=color:#f92672>Length</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>number</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Ele </span><span style=color:#f92672>=</span> <span style=color:#a6e22e>unknown</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Arr</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>unknown</span><span style=color:#960050;background-color:#1e0010>[]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>[]</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Arr</span>[<span style=color:#e6db74>&#39;length&#39;</span>] <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Length</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>?</span> <span style=color:#a6e22e>Arr</span> 
</span></span><span style=display:flex><span>    : <span style=color:#66d9ef>BuildArray</span>&lt;<span style=color:#f92672>Length</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Ele</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>...Arr</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Ele</span><span style=color:#960050;background-color:#1e0010>]</span>&gt;;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>BuildArray</span>&lt;<span style=color:#f92672>3</span>&gt;; <span style=color:#75715e>// [unknown, unknown, unknown]
</span></span></span></code></pre></div></div><div class=footer><div class=meta><span class=field><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="fill:#999;margin-right:3px"><path fill="none" d="M0 0h24v24H0z"/><path d="M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011.0h3.99l.42-4h-3.99l-.42 4z"/></svg><a href=/tags/typescript/>TypeScript</a></span></div><div class=divider></div><div class=pagination><a class=pre href=/juejin-book-7047524421182947366-1/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="fill:#999"><path fill="none" d="M0 0h24v24H0z"/><path d="M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z"/></svg><span>TypeScript 类型体操通关秘籍（一)</span></a>
<a class=next href=/enhance-console-method/><span>Enhance Console Method</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="fill:#999"><path fill="none" d="M0 0h24v24H0z"/><path d="M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z"/></svg></a></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//daijiangtao-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><script src=https://unpkg.com/prismjs@1.27.0/components/prism-core.min.js></script>
<script src=https://unpkg.com/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js></script>
<script src=/js/main.js></script></body></html>