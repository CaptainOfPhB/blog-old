<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    
    <meta name="author" content="CaptainOfPhB" />

    
	  
	  
	  
	    <title>优雅的 Git 提交信息 ♡ 船长の部落格</title>
	  

    
    
      <meta name="description" content="优雅的 Git 提交信息" />
    

    
    
    
    <meta name="keywords" content="git message" />
    

	  

    <link rel="shortcut icon" href="/images/favicon.png" />

    
    <link rel="stylesheet"  href="https://cdn.jsdelivr.net/npm/reseter.css" >

    <style>*::-webkit-scrollbar {
  display: none;
}

a {
  text-decoration: none;
}

ul,
ol {
  margin: 0;
  padding-left: 25px;
}

a:link,
a:visited {
  transition: all 0.15s linear;
}

hr {
  width: 50%;
  margin: 50px auto;
  border: 0.5px solid #f3f3f3;
}

u {
  text-underline-offset: 0.3em;
  text-decoration-color: var(--gray-light);
}

del {
  color: var(--gray-light);
}

table {
  margin: 10px 0;
  border-spacing: 0;
  border-collapse: collapse;
}

table th,
table td {
  padding: 10px 20px;
  border: 1px solid #dfe2e5;
}

html {
  -webkit-font-smoothing: antialiased;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  font-size: 16px;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji,
    Segoe UI Symbol, Noto Color Emoji;
}

p {
  margin: 10px 0;
}</style>
    <style>@charset "UTF-8";

@media (prefers-color-scheme: light) {
  a {
    color: var(--dark);
  }

  a:hover {
    color: var(--red-light) !important;
  }

  table th {
    background-color: var(--background-light);
  }

  body {
    color: var(--dark);
    background-color: var(--background-light);
  }

  pre {
    background: var(--code-background-light) !important;
  }

  .markdown code {
    background: var(--code-background-light);
  }

  .single .date {
    color: var(--gray);
  }

  .single .field a,
  .single .pagination a {
    color: var(--gray-light);
  }

  .single .divider {
    border-bottom: 1px solid var(--white);
  }

  .home .summary {
    color: var(--gray);
  }

  .home .pagination a {
    color: var(--gray-light);
  }

  .posts .year {
    color: var(--dark);
  }

  .markdown blockquote {
    color: var(--gray);
    border-left: 5px solid var(--white);
  }

  .markdown strong,
  .markdown b,
  .markdown em {
    background-color: rgba(255, 197, 61, 0.3);
  }

  .not-found svg {
    fill: var(--white-light);
  }
}</style>
    <style>@charset "UTF-8";

@media (prefers-color-scheme: dark) {
  a {
    color: var(--white);
  }

  a:hover {
    color: var(--red) !important;
  }

  table th {
    background: var(--code-background-dark);
  }

  body {
    color: var(--white);
    background-color: var(--background-dark);
  }

  pre {
    background: var(--code-background-dark) !important;
  }

  .markdown code {
    background: var(--code-background-dark);
  }

  .single .date {
    color: var(--gray-light);
  }

  .single .field a,
  .single .pagination a {
    color: var(--white-light);
  }

  .single .divider {
    border-bottom: 1px solid var(--gray);
  }

  .home .summary {
    color: var(--white-light);
  }

  .home .pagination a {
    color: var(--white-light);
  }

  .posts .year {
    color: var(--white);
  }

  .markdown blockquote {
    color: var(--gray-light);
    border-left: 5px solid var(--gray);
  }

  .markdown strong,
  .markdown b,
  .markdown em {
    background-color: rgba(235, 87, 87, 0.3);
  }

  .not-found svg {
    fill: var(--gray);
  }
}</style>
    <style>@media (prefers-color-scheme: light) {

	code[class*="language-"],
	pre[class*="language-"] {
		color: #111b27;
		background: none;
		font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
		text-align: left;
		white-space: pre;
		word-spacing: normal;
		word-break: normal;
		word-wrap: normal;
		line-height: 1.5;
		-moz-tab-size: 4;
		-o-tab-size: 4;
		tab-size: 4;
		-webkit-hyphens: none;
		-moz-hyphens: none;
		-ms-hyphens: none;
		hyphens: none;
	}

	pre[class*="language-"]::-moz-selection,
	pre[class*="language-"] ::-moz-selection,
	code[class*="language-"]::-moz-selection,
	code[class*="language-"] ::-moz-selection {
		background: #8da1b9;
	}

	pre[class*="language-"]::selection,
	pre[class*="language-"] ::selection,
	code[class*="language-"]::selection,
	code[class*="language-"] ::selection {
		background: #8da1b9;
	}

	/* Code blocks */
	pre[class*="language-"] {
		padding: 1em;
		margin: 0.5em 0;
		overflow: auto;
	}

	:not(pre)>code[class*="language-"],
	pre[class*="language-"] {
		background: #e3eaf2;
	}

	/* Inline code */
	:not(pre)>code[class*="language-"] {
		padding: 0.1em 0.3em;
		border-radius: 0.3em;
		white-space: normal;
	}

	.token.comment,
	.token.prolog,
	.token.doctype,
	.token.cdata {
		color: #3c526d;
	}

	.token.punctuation {
		color: #111b27;
	}

	.token.delimiter.important,
	.token.selector .parent,
	.token.tag,
	.token.tag .token.punctuation {
		color: #006d6d;
	}

	.token.attr-name,
	.token.boolean,
	.token.boolean.important,
	.token.number,
	.token.constant,
	.token.selector .token.attribute {
		color: #755f00;
	}

	.token.class-name,
	.token.key,
	.token.parameter,
	.token.property,
	.token.property-access,
	.token.variable {
		color: #005a8e;
	}

	.token.attr-value,
	.token.inserted,
	.token.color,
	.token.selector .token.value,
	.token.string,
	.token.string .token.url-link {
		color: #116b00;
	}

	.token.builtin,
	.token.keyword-array,
	.token.package,
	.token.regex {
		color: #af00af;
	}

	.token.function,
	.token.selector .token.class,
	.token.selector .token.id {
		color: #7c00aa;
	}

	.token.atrule .token.rule,
	.token.combinator,
	.token.keyword,
	.token.operator,
	.token.pseudo-class,
	.token.pseudo-element,
	.token.selector,
	.token.unit {
		color: #a04900;
	}

	.token.deleted,
	.token.important {
		color: #c22f2e;
	}

	.token.keyword-this,
	.token.this {
		color: #005a8e;
	}

	.token.important,
	.token.keyword-this,
	.token.this,
	.token.bold {
		font-weight: bold;
	}

	.token.delimiter.important {
		font-weight: inherit;
	}

	.token.italic {
		font-style: italic;
	}

	.token.entity {
		cursor: help;
	}

	.language-markdown .token.title,
	.language-markdown .token.title .token.punctuation {
		color: #005a8e;
		font-weight: bold;
	}

	.language-markdown .token.blockquote.punctuation {
		color: #af00af;
	}

	.language-markdown .token.code {
		color: #006d6d;
	}

	.language-markdown .token.hr.punctuation {
		color: #005a8e;
	}

	.language-markdown .token.url>.token.content {
		color: #116b00;
	}

	.language-markdown .token.url-link {
		color: #755f00;
	}

	.language-markdown .token.list.punctuation {
		color: #af00af;
	}

	.language-markdown .token.table-header {
		color: #111b27;
	}

	.language-json .token.operator {
		color: #111b27;
	}

	.language-scss .token.variable {
		color: #006d6d;
	}

	/* overrides color-values for the Show Invisibles plugin
 * https://prismjs.com/plugins/show-invisibles/
 */
	.token.token.tab:not(:empty):before,
	.token.token.cr:before,
	.token.token.lf:before,
	.token.token.space:before {
		color: #3c526d;
	}

	/* overrides color-values for the Toolbar plugin
 * https://prismjs.com/plugins/toolbar/
 */
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>button {
		color: #e3eaf2;
		background: #005a8e;
	}

	div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus {
		color: #e3eaf2;
		background: #005a8eda;
		text-decoration: none;
	}

	div.code-toolbar>.toolbar.toolbar>.toolbar-item>span,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover,
	div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus {
		color: #e3eaf2;
		background: #3c526d;
	}

	/* overrides color-values for the Line Highlight plugin
 * http://prismjs.com/plugins/line-highlight/
 */
	.line-highlight.line-highlight {
		background: #8da1b92f;
		background: linear-gradient(to right, #8da1b92f 70%, #8da1b925);
	}

	.line-highlight.line-highlight:before,
	.line-highlight.line-highlight[data-end]:after {
		background-color: #3c526d;
		color: #e3eaf2;
		box-shadow: 0 1px #8da1b9;
	}

	pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before {
		background-color: #3c526d1f;
	}

	/* overrides color-values for the Line Numbers plugin
 * http://prismjs.com/plugins/line-numbers/
 */
	.line-numbers.line-numbers .line-numbers-rows {
		border-right: 1px solid #8da1b97a;
		background: #d0dae77a;
	}

	.line-numbers .line-numbers-rows>span:before {
		color: #3c526dda;
	}

	/* overrides color-values for the Match Braces plugin
 * https://prismjs.com/plugins/match-braces/
 */
	.rainbow-braces .token.token.punctuation.brace-level-1,
	.rainbow-braces .token.token.punctuation.brace-level-5,
	.rainbow-braces .token.token.punctuation.brace-level-9 {
		color: #755f00;
	}

	.rainbow-braces .token.token.punctuation.brace-level-2,
	.rainbow-braces .token.token.punctuation.brace-level-6,
	.rainbow-braces .token.token.punctuation.brace-level-10 {
		color: #af00af;
	}

	.rainbow-braces .token.token.punctuation.brace-level-3,
	.rainbow-braces .token.token.punctuation.brace-level-7,
	.rainbow-braces .token.token.punctuation.brace-level-11 {
		color: #005a8e;
	}

	.rainbow-braces .token.token.punctuation.brace-level-4,
	.rainbow-braces .token.token.punctuation.brace-level-8,
	.rainbow-braces .token.token.punctuation.brace-level-12 {
		color: #7c00aa;
	}

	/* overrides color-values for the Diff Highlight plugin
 * https://prismjs.com/plugins/diff-highlight/
 */
	pre.diff-highlight>code .token.token.deleted:not(.prefix),
	pre>code.diff-highlight .token.token.deleted:not(.prefix) {
		background-color: #c22f2e1f;
	}

	pre.diff-highlight>code .token.token.inserted:not(.prefix),
	pre>code.diff-highlight .token.token.inserted:not(.prefix) {
		background-color: #116b001f;
	}

	/* overrides color-values for the Command Line plugin
 * https://prismjs.com/plugins/command-line/
 */
	.command-line .command-line-prompt {
		border-right: 1px solid #8da1b97a;
	}

	.command-line .command-line-prompt>span:before {
		color: #3c526dda;
	}
}</style>
    <style>@media (prefers-color-scheme: dark) {

	code[class*="language-"],
	pre[class*="language-"] {
		color: #ccc;
		background: none;
		font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
		font-size: 1em;
		text-align: left;
		white-space: pre;
		word-spacing: normal;
		word-break: normal;
		word-wrap: normal;
		line-height: 1.5;

		-moz-tab-size: 4;
		-o-tab-size: 4;
		tab-size: 4;

		-webkit-hyphens: none;
		-moz-hyphens: none;
		-ms-hyphens: none;
		hyphens: none;

	}

	/* Code blocks */
	pre[class*="language-"] {
		padding: 1em;
		margin: .5em 0;
		overflow: auto;
	}

	:not(pre)>code[class*="language-"],
	pre[class*="language-"] {
		background: #2d2d2d;
	}

	/* Inline code */
	:not(pre)>code[class*="language-"] {
		padding: .1em;
		border-radius: .3em;
		white-space: normal;
	}

	.token.comment,
	.token.block-comment,
	.token.prolog,
	.token.doctype,
	.token.cdata {
		color: #999;
	}

	.token.punctuation {
		color: #ccc;
	}

	.token.tag,
	.token.attr-name,
	.token.namespace,
	.token.deleted {
		color: #e2777a;
	}

	.token.function-name {
		color: #6196cc;
	}

	.token.boolean,
	.token.number,
	.token.function {
		color: #f08d49;
	}

	.token.property,
	.token.class-name,
	.token.constant,
	.token.symbol {
		color: #f8c555;
	}

	.token.selector,
	.token.important,
	.token.atrule,
	.token.keyword,
	.token.builtin {
		color: #cc99cd;
	}

	.token.string,
	.token.char,
	.token.attr-value,
	.token.regex,
	.token.variable {
		color: #7ec699;
	}

	.token.operator,
	.token.entity,
	.token.url {
		color: #67cdcc;
	}

	.token.important,
	.token.bold {
		font-weight: bold;
	}

	.token.italic {
		font-style: italic;
	}

	.token.entity {
		cursor: help;
	}

	.token.inserted {
		color: green;
	}
}</style>
    <style>@charset "UTF-8";

:root {
  --red-light: #ff7875;
  --red: #eb5757;
  --gray-light: #999999;
  --gray: #666666;
  --dark-light: rgba(100, 100, 100, 0.2);
  --dark: #333333;
  --white-light: #cccccc;
  --white: #eeeeee;
  --background-light: #fefefe;
  --background-dark: #333333;
  --code-background-light: rgba(236, 236, 236, 0.5);
  --code-background-dark: rgba(0, 0, 0, 0.3);
  --font: Fira Code, Fira Mono, Menlo, Consolas, DejaVu Sans Mono, monospace;
}

.main {
  max-width: 800px;
  margin: 80px auto 0;
  padding-bottom: 80px;
}

/* 顶部导航 */

.site-nav-container {
  display: flex;
  flex-flow: row-reverse;
}

.site-nav {
  display: flex;
}

.site-nav a {
  margin-left: 20px;
}

/* 主页 */

.home .section {
  margin-top: 30px;
}

.home .title {
  margin: 0;
}

.home .summary {
  margin: 20px 0;
  line-height: 1.8em;
  word-break: normal;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.home .footer {
  padding-bottom: 30px;
}

.home .meta {
  display: flex;
  font-size: 12px;
  color: var(--gray-light);
}

.home .field {
  display: flex;
  margin-right: 10px;
  align-items: center;
}

.home .field a {
  margin-top: -1px;
  margin-right: 5px;
  color: var(--gray-light);
}

.home .pagination {
  position: relative;
  justify-content: space-between;
}

.home .prev {
  left: 0;
  position: absolute;
}

.home .next {
  right: 0;
  position: absolute;
}

.home .pagination a {
  display: inline-flex;
  font-size: 14px;
  align-items: center;
}

/* 归档 */

.posts .container {
  width: 720px;
  margin: 0 auto;
}

.posts .year {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 30px 0 10px;
}

.posts .list {
  padding: 0;
  line-height: 1.8;
}

.posts .item {
  display: flex;
  padding-bottom: 5px;
  align-items: center;
  justify-content: space-between;
}

.posts .item .date {
  opacity: 0.3;
  font-size: 14px;
  width: 80px;
  text-align: right;
  display: inline-block;
  font-family: var(--font);
}

/* 标签 */

.tags {
  margin-top: 30px;
  text-align: center;
}

.tags ul {
  margin: 0;
  padding: 0;
}

.tags li {
  margin: 10px 15px;
  display: inline-block;
}

.tags .count {
  top: -10px;
  font-size: 12px;
  position: relative;
  color: var(--gray-light);
}

/* 文章 */

.single a {
  color: var(--red);
}

.single {
  margin-top: 30px;
}

.single .date {
  font-size: 13px;
}

.single .divider {
  margin: 30px 0;
}

.single .meta {
  margin-top: 50px;
  font-size: 14px;
  color: var(--gray-light);
}

.single .field {
  display: flex;
  margin-right: 10px;
  align-items: center;
}

.single .field a {
  margin-top: -1px;
  margin-right: 5px;
  display: flex;
  font-size: 14px;
  align-items: center;
}

.single .pagination {
  gap: 20px;
  display: flex;
  justify-content: space-between;
}

.single .pagination a {
  display: inline-flex;
  font-size: 14px;
  align-items: center;
}

.markdown {
  padding-top: 15px;
  line-height: 1.8em;
  word-break: normal;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.markdown h1,
.markdown h2,
.markdown h3,
.markdown h4,
.markdown h5,
.markdown h6 {
  margin: 20px 0;
}

.markdown code {
  font-size: 14px;
  padding: 3px 5px;
  white-space: nowrap;
  font-family: var(--font);
}

.markdown h2 code {
  font-size: inherit;
}

.markdown pre {
  overflow: auto;
  padding: 5px 13px;
}

.markdown pre code {
  padding: 0;
  overflow: auto;
  white-space: pre;
  background-color: transparent;
}

.markdown blockquote {
  margin: 15px 0;
  padding: 0.1px 15px;
}

.markdown blockquote p {
  margin: 0;
}

.markdown strong,
.markdown b,
.markdown em {
  padding: 1px 2px;
  font-weight: normal;
}

.markdown img {
  width: 100%;
  height: auto;
  margin-bottom: -5px;
}

/* 404 */

.not-found {
  text-align: center;
}

#disqus_thread {
  margin-top: 50px;
}

@media screen and (max-width: 500px) {
  .not-found svg {
    width: 100%;
  }
}

@media screen and (max-width: 800px) {
  .main {
    margin: 50px auto 0;
    padding-bottom: 50px;
  }

  .content {
    margin: 0px 15px;
  }

  .site-nav-container {
    margin: 0 15px;
    flex-direction: row;
  }

  .site-nav a {
    margin: 0 20px 0 0;
  }
}</style>
</head>

<body>
    <div class="main">
        <div class="site-nav-container">
  <div class="site-nav">
    <a href="/">首页</a>
    <a href="/posts/">归档</a>
    <a href="/tags/">标签</a>
    <a href="/about-me/">关于</a>
  </div>
</div>

        <div class="content">
            <div class="single">
                <h1 class="title">优雅的 Git 提交信息</h1>
                <div class="date">Updated&nbsp;on&nbsp;2018.06.27</div>
                <div class="markdown">
                    <p>Commit change 是开发的日常操作，写好 log 不仅有助于他人 review, 还可以有效的输出 change log, 对项目的管理实际至关重要。如何写好每一个 commit message 呢？</p>
<blockquote>
<p>这种东西，当然要借助工具了，才能够写得即规范，又格式化，还能够支持后续分析。
目前比较建议的是，使用终端工具 <a href="https://github.com/commitizen/cz-cli" target="_blank">commitizen/cz-cli</a> + <a href="https://github.com/commitizen/cz-conventional-changelog" target="_blank">commitizen/cz-conventional-changelog</a> + <a href="https://github.com/conventional-changelog/standard-version" target="_blank">conventional-changelog/standard-version</a> 一步解决提交信息和版本发布。甚至，如果想更狠一点，在持续集成里面加入 <a href="https://github.com/marionebl/commitlint" target="_blank">marionebl/commitlint</a> 检查 commit 信息是否符合规范，也不是不可以。</p>
</blockquote>
<h2 id="commit-message-format">Commit Message Format</h2>
<p>目前规范使用较多的是 Angular 团队的规范，继而衍生了 <a href="https://conventionalcommits.org/" target="_blank">Conventional Commits specification</a>。很多工具也是基于此规范, 下文摘自 <a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines" target="_blank">Angular 开发者文档</a>。</p>
<blockquote>
<p>We have very precise rules over how our git commit messages can be formatted. This leads to more readable messages that are easy to follow when looking through the project history. But also, we use the git commit messages to generate the AngularJS change log.</p>
</blockquote>
<p>我们对 commit message 格式有一个非常明确的约束，这样做将使得在浏览项目历史时 commit message 会非常易读，此外，我们也利用 commit message 来生成 AngularJS 的 change log。</p>
<blockquote>
<p>The commit message formatting can be added using a typical git workflow or through the use of a CLI wizard (Commitizen). To use the wizard, run yarn run commit in your terminal after staging your changes in git.</p>
</blockquote>
<p>commit message 格式可以在经典的 git 工作流中使用，也可以配合一个客户端向导 (Commitizen) 来使用。</p>
<blockquote>
<p>Each commit message consists of a header, a body and a footer. The header has a special format that includes a type, a scope and a subject:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
</span></span><span style="display:flex;"><span>&lt;BLANK LINE&gt;
</span></span><span style="display:flex;"><span>&lt;body&gt;
</span></span><span style="display:flex;"><span>&lt;BLANK LINE&gt;
</span></span><span style="display:flex;"><span>&lt;footer&gt;
</span></span></code></pre></div><p>每一个 commit message 包括头部、主题以及注脚，头部的格式比较特殊，其包含类型、范围以及主题分类。</p>
<blockquote>
<p>The header is mandatory and the scope of the header is optional.</p>
</blockquote>
<p>header 部分是强制必须的，但是其范围可写可不写，是可选的。</p>
<blockquote>
<p>Any line of the commit message cannot be longer 100 characters! This allows the message to be easier to read on GitHub as well as in various git tools.</p>
</blockquote>
<p>任意一行 commit message 不能超过 100 个字符，这样就使得 commit message 在 GitHub 或其他的 Git 工具上变得易读。</p>
<blockquote>
<p>If the commit reverts a previous commit, it should begin with revert:, followed by the header of the reverted commit. In the body it should say: This reverts commit <hash>., where the hash is the SHA of the commit being reverted. A commit with this format is automatically created by the git revert command.</p>
</blockquote>
<p>如果某个 commit 恢复了之前的 commit，那么 commit message 应该以 <code>revert:</code> 开头，同时在 body 部分应该写明：恢复了 hash 为 xxx 的提交。
git 恢复命令会自动创建这个格式的 commit message。</p>
<blockquote>
<p>Type must be one of the following:</p>
<ul>
<li>feat: A new feature</li>
<li>fix: A bug fix</li>
<li>docs: Documentation only changes</li>
<li>style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</li>
<li>refactor: A code change that neither fixes a bug nor adds a feature</li>
<li>perf: A code change that improves performance</li>
<li>test: Adding missing or correcting existing tests</li>
<li>chore: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
</ul>
</blockquote>
<p>type 部分格式参考如下：</p>
<ul>
<li>feat: 新的特性</li>
<li>fix: 修复了一个 bug</li>
<li>docs: 更改了文档说明</li>
<li>style: 代码风格修改，并没有影响代码的含义（空格、格式化、分号等）</li>
<li>refactor: 代码更改，没有修复 bug 也没有添加新的特性</li>
<li>perf: 代码更改，提升了整体表现（性能、或者运行时间更快等）</li>
<li>test: 添加了测试或者修改了已有的测试</li>
<li>chore: 修改了构建流程或者依赖等</li>
</ul>
<blockquote>
<p>The scope could be anything specifying place of the commit change. For example $location, $browser, $compile, $rootScope, ngHref, ngClick, ngView, etc, You can use * when the change affects more than a single scope.</p>
</blockquote>
<p>scope 可以是指明 commit 更改范围的任何内容，例如 $location、$browser、$compile、$rootScope 等，你也可以使用 <code>*</code> 符号来表明改动影响的不仅仅是单个范围。</p>
<blockquote>
<p>The subject contains succinct description of the change:</p>
<ol>
<li>use the imperative, present tense: &ldquo;change&rdquo; not &ldquo;changed&rdquo; nor &ldquo;changes&rdquo;</li>
<li>don&rsquo;t capitalize first letter</li>
<li>no dot (.) at the end</li>
</ol>
</blockquote>
<p>subject 部分是针对改动的简要描述，需要注意的是：</p>
<ol>
<li>使用祈使句、现在时语态：使用 change 而不是 changed 或 changes</li>
<li>首字母不要大写</li>
<li>末尾不要加 <code>.</code> 符号</li>
</ol>
<blockquote>
<p>Just as in the subject, use the imperative, present tense: &ldquo;change&rdquo; not &ldquo;changed&rdquo; nor &ldquo;changes&rdquo;.
The body should include the motivation for the change and contrast this with previous behavior.</p>
</blockquote>
<p>参照 subject 的规范（使用祈使句、现在时语态：change 而不是 changed 或 changes），body 部分也应该以做了什么改动为核心，写明与改动前的差异。</p>
<blockquote>
<p>The footer should contain any information about Breaking Changes and is also the place to reference GitHub issues that this commit closes. Breaking Changes should start with the word BREAKING CHANGE: with a space or two newlines. The rest of the commit message is then used for this.</p>
</blockquote>
<p>footer 部分应该包含重大的改动的信息，同时也可以表明这次的 commit 解决了 GitHub 上的什么问题（引用 issues 的链接）。重大的改动应该以 <code>BREAKING CHANGE:</code> 开头，
同时前面留一行或者两行，其他的 commit message 将会用到这些留行。</p>
<p>更加详细的解释可以参考 <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#" target="_blank">AngularJS Git Commit Message Conventions</a>。</p>
<h2 id="command-line-tool">Command Line Tool</h2>
<h3 id="use-git-commit-template">Use git commit template</h3>
<p>如果在个人的项目中， 想尝试一下这样的规范格式, 那么你可以为 git 设置 commit template, 每次 git commit 的时候在命令行中提示，修改 <code>~/.gitconfig</code>, 添加:</p>
<pre tabindex="0"><code>[commit]
  template = ~/.gitmessage
</code></pre><p>之后新建 <code>.gitmessage</code> 文件，内容如下：</p>
<pre tabindex="0"><code># head: &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
# - type: feat, fix, docs, style, refactor, test, chore
# - scope: can be empty (eg. if the change is a global or difficult to assign to a single component)
# - subject: start with verb (such as &#39;change&#39;), 50-character line
#
# body: 72-character wrapped. This should answer:
# * Why was this change necessary?
# * How does it address the problem?
# * Are there any side effects?
#
# footer:
# - Include a link to the ticket, if any.
# - BREAKING CHANGE
#
</code></pre><h3 id="use-commitizen">Use Commitizen</h3>
<p>除此之外，我们可以使用更加便捷的命令行工具：<a href="https://github.com/commitizen/cz-cli" target="_blank">commitizen/cz-cli</a>, 我们需要借助它提供的 <code>git cz</code> 命令替代我们的 <code>git commit</code> 命令, 帮助我们生成符合规范的 commit message。</p>
<p>除此之外, 我们还需要为 commitizen 指定一个 Adapter 比如: <a href="https://github.com/commitizen/cz-conventional-changelog" target="_blank">cz-conventional-changelog</a>（一个符合 Angular 团队规范的 preset）使得 commitizen 按照我们指定的规范帮助我们生成 commit message。</p>
<h4 id="global-installation">Global installation</h4>
<p>全局模式下, 需要 <code>~/.czrc</code> 配置文件, 为 commitizen 指定 Adapter，全局使用时运行 <code>git cz</code> 即可。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>npm install -g commitizen
</span></span><span style="display:flex;"><span>npm install -g cz-conventional-changelog
</span></span><span style="display:flex;"><span>touch ~/.czrc
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }&#39;</span> &gt; ~/.czrc
</span></span></code></pre></div><h4 id="local-installation">Local installation</h4>
<p>本地安装，使用时运行 <code>npm run commit</code> 即可。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>npm install -g commitizen -D
</span></span><span style="display:flex;"><span>npm install -g cz-conventional-changelog -D
</span></span></code></pre></div><p>在 <code>package.json</code> 中进行配置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;script&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;commit&#34;</span>: <span style="color:#e6db74">&#34;git-cz&#34;</span>,
</span></span><span style="display:flex;"><span>}<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;config&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;node_modules/cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="custom-adapter">Custom Adapter</h4>
<p>也许 Angular 的那套规范我们不习惯, 那么可以通过指定 Adapter (<a href="https://github.com/leonardoanalista/cz-customizable" target="_blank">cz-customizable</a>) 编写一套符合自己团队的规范。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># global installation</span>
</span></span><span style="display:flex;"><span>npm i -g cz-customizable
</span></span><span style="display:flex;"><span><span style="color:#75715e"># loacl installation</span>
</span></span><span style="display:flex;"><span>npm i -D cz-customizable
</span></span></code></pre></div><p>根据安装方式不同在 <code>~</code> 目录下或者项目根目录下创建 <code>.cz-config.js</code> 文件，然后修改 <code>.czrc</code> 以及 <code>package.json</code> 即可：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// ~/.czrc
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{ <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;cz-customizable&#34;</span> }
</span></span><span style="display:flex;"><span><span style="color:#75715e">// package.json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;config&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;node_modules/cz-customizable&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>.cz-config.js</code> 文件的修改可以参照 <a href="https://gist.github.com/leohxj/7bc928f60bfa46a3856ddf7c0f91ab98" target="_blank">leohxj/.cz-config.js</a>或<a href="https://github.com/leonardoanalista/cz-customizable#options" target="_blank">官方文档</a>。</p>
<h3 id="validate-commit-message">Validate Commit Message</h3>
<p><a href="https://github.com/marionebl/commitlint" target="_blank">commitlint</a> 可以帮助我们校验 commit message, 如果我们提交的不符合规范, 直接拒绝提交。
同样的, 它也需要一份校验的配置, 这里推荐 <a href="https://github.com/marionebl/commitlint/tree/master/@commitlint/config-conventional" target="_blank">@commitlint/config-conventional</a>（符合 Angular 团队规范）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>npm i -D @commitlint/config-conventional @commitlint/cli
</span></span></code></pre></div><p>同时需要在项目目录下创建配置文件 <code>.commitlintrc.js</code>, 写入:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">extends</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">commitlint</span><span style="color:#f92672">/</span><span style="color:#a6e22e">config</span><span style="color:#f92672">-</span><span style="color:#a6e22e">conventional</span><span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="validate-custom-adapter">Validate Custom Adapter</h3>
<p>如果你使用的是自定义的 commitizen adapter, 那么你需要:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ npm i -D commitlint-config-cz @commitlint/cli
</span></span></code></pre></div><p>同时在 <code>.commitlintrc.js</code> 中写入:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">extends</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;cz&#39;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> {}
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><blockquote>
<p>扩展:</p>
<ol>
<li>结合 <a href="https://github.com/typicode/husky" target="_blank">Husky</a> 校验 commit message</li>
<li>利用符合语义化的 commit message 生成 CHANGELOG，借助 <a href="https://github.com/conventional-changelog/standard-version" target="_blank">standard-version</a></li>
</ol>
</blockquote>
<blockquote>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/34223150" target="_blank">优雅的提交你的 commit message</a></p>
</blockquote>
<p>完。</p>

                </div>
                <div class="footer">
                    
                    <div class="meta">
                        <span class="field">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="fill: #999; margin-right: 3px;">
                                <path fill="none" d="M0 0h24v24H0z"/>
                                <path d="M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z"/>
                            </svg>
                            <a href="/tags/git/">git</a>
                            
                        </span>
                    </div>
                    

                    <div class="divider"></div>

                    <div class="pagination">
                        
                            <a class="pre" href="/text-overflow/">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="fill: #999;">
                                    <path fill="none" d="M0 0h24v24H0z"/>
                                    <path d="M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z"/>
                                </svg>
                                <span>文本溢出省略</span>
                            </a>
                        
                        
                            <a class="next" href="/command-line-tool/">
                                <span>实用的命令行工具</span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="fill: #999;">
                                    <path fill="none" d="M0 0h24v24H0z"/>
                                    <path d="M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z"/>
                                </svg>
                            </a>
                        
                    </div>

                    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "daijiangtao-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/prismjs@1.27.0/components/prism-core.min.js"></script>
<script src="https://unpkg.com/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="/js/main.js"></script>
</body>

</html>